$bgColor:#F7F7F7;
$gfxBGCol:#F2FEF1;

$baseTxtCol:#686868;
$listTxtCol:#B7B7B7;

$linkBtnBGCol:#FF5948;
$linkBtnFGCol:#FFFFFF;

$imgPreviewBGCol:#FFFFFF;
$imgPreviewBorderCol:#DBDBDB;

$articleSelectedBGCol:#FFFFFF;
$articleSelectedDividerCol:#EDEDED;
$articleSummaryTxtCol:#333333;

$footerBGCol:#FFFFFF;
$footerDividerCol:#EDEDED;
$footerTxtCol:#CACACA;
@function em($pxval, $base:16){
	@return ($pxval / $base) * 1em;
}
$tabletish-width: 768px;
$desktopish-width: 1024px;
$lobbyDisplayish-width:1560px;

@mixin tabletish {
  @media (min-width: #{$tabletish-width}) {
    @content;
  }
}

@mixin desktopish {
  @media (min-width: #{$desktopish-width}) {
    @content;
  }
}

@mixin lobbyDisplayish {
  @media (min-width: #{$lobbyDisplayish-width}) {
    @content;
  }
}

@mixin highDPI {
  @media
    only screen and (-webkit-min-device-pixel-ratio: 2),
    only screen and (min--moz-device-pixel-ratio: 2),
    only screen and (-o-min-device-pixel-ratio: 2/1),
    only screen and (min-device-pixel-ratio: 2),
    only screen and (min-resolution: 192dpi),
    only screen and (min-resolution: 2dppx) {
    @content;
  }
}

$gfxWidth:225px;
$contentWidth:em(650);
$footerHeight:100px;
$gfxContentMargin:30px;
@mixin vendorPrefixer ($prop, $value, $prefixes:(webkit, moz, ms, o, spec)) {
		@each $prefix in $prefixes{
			@if $prefix == webkit{
				-webkit-#{$prop}: $value;
			}
			@else if $prefix == moz{
				-moz-#{$prop}: $value;
			}
			@else if $prefix == ms{
				-ms-#{$prop}: $value;
			}
			@else if $prefix == o{
				-o-#{$prop}: $value;
			}
			@else if $prefix == spec{
				#{$prop}: $value;
			}
			@else{
				//@warn "Unrecognized prefix: #{$prefix}";
			}
		}
}
.js .site footer{
	position:absolute;
	bottom:0;
	height:$footerHeight;
	width:$contentWidth;
	text-align:right;
	background-color:$footerBGCol;
	border-top:1px solid $footerDividerCol;

	> div{
		padding:em(10);
		font-size:em(12);
		font-family:Arial,Helvetica,sans-serif;
		color:$footerTxtCol;		

		span{			
			&.year{
				font-style:italic;		
			}
			&.company{
				font-weight:700;
			}
		}
	}
}
.js .gfx{
	display:block;
	height:100%;
	margin:0;
	padding:0;

	width:$gfxWidth;
	background-color:$gfxBGCol;
	position:fixed;

	.dropoffShadow{
		position:absolute;
		width:8px;
		height:100%;		
		right:0;

		border-right:1px solid #b7e9f6;
		background: -moz-linear-gradient(left,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.08) 100%);
		background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(0,0,0,0)), color-stop(100%,rgba(0,0,0,0.08)));
		background: -webkit-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		background: -o-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		background: -ms-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#14000000',GradientType=1 );
	}
}

nav{
	
}

.gfx, .site, footer{
	//display:none;
}
.js .site .content{
	width:100%;//$contentWidth;
	margin:0;
	height:inherit;
}
.js .site .projects .imagePreview{
	width:100%;
	height:200px;
	display:block;
	margin:em(20) 0;
	background-color:$imgPreviewBGCol;
	border:1px solid $imgPreviewBorderCol;

	img{
		position:absolute;
		transition:opacity .75s linear;
		&.next{
			opacity:0;
		}
		&.current{
			opacity:1;
			z-index:2;
		}

	}
}
.js .site .projects{
	article{
		margin:0;
		padding:em(25) em(10) em(35) em(10);

		&.selected{
			background-color:$articleSelectedBGCol;
			border-top:1px solid $articleSelectedDividerCol;
			border-bottom:1px solid $articleSelectedDividerCol;
		}

		h1{
			font-size:em(22);
			font-style:italic;
			font-weight:normal;
			line-height:1.5em;
			vertical-align:baseline;
			margin:0;
			color:$articleSummaryTxtCol;
		}
		
		.description{

			@include desktopish{
				@include vendorPrefixer(column-count, 2, webkit moz spec);
			}

			@include lobbyDisplayish{
				@include vendorPrefixer(column-count, 3, webkit moz spec);
			}

			p{
				margin:0;
				padding:em(0) em(10) em(16) em(6);
				font-size:1em;
				line-height:1.333em;
				color:$baseTxtCol;
			}
			a.btn{
				background-color:$linkBtnBGCol;
				color:$linkBtnFGCol;
				text-decoration:none;
				padding:em(2) em(9);
				margin:0 0 2 0;
				transition:color 0.27s ease-out,background 0.2s ease-in;
				&:hover, &:focus{
					background-color:$linkBtnFGCol;
					color:$linkBtnBGCol;
				}
			}
		}
		ul.info{
			list-style-type:none;
			font-family:Arial,Helvetica,sans-serif;
			color:$listTxtCol;
			font-size:em(13);	
			padding:0;
			margin:0;
			li{
				line-height:1.5em;
			}
		}
	}
}
@import url(http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400italic);
html, body{
	background-color:$bgColor;
	margin:0;
	padding:0;
	height:100%;
	
	font-family:"Sorts Mill Goudy",Georgia,serif;
	font-size:1em;
}

.js .site{
	position:relative;
	min-height:100%;
	padding:0;
	margin:0;
	margin-left:$gfxWidth + $gfxContentMargin;
	padding-right:$gfxContentMargin;
	
	.content{
		padding-bottom:$footerHeight;
	}

	.noJS{
		display:none;
	}
}