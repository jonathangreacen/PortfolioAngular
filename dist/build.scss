$bgColor:#F7F7F7;
$gfxBGCol:#F2FEF1;

$navButtonColor:#333333;

$baseTxtCol:#686868;
$listTxtCol:#B7B7B7;

$linkBtnBGCol:#FF5948;
$linkBtnFGCol:#FFFFFF;

$imgPreviewBGCol:#FFFFFF;
$imgPreviewBorderCol:#DBDBDB;

$articleSelectedBGCol:#FFFFFF;
$articleSelectedDividerCol:#EDEDED;
$articleSummaryTxtCol:#333333;
$articleSummarySelectionBGCol:#FFFFCC;
$articleH1SelectionBGCol:#FFCCEE;
$articleInfoSelectionBGCol:transparent;//#CCEEFF;

$footerBGCol:#FFFFFF;
$footerDividerCol:#EDEDED;
$footerTxtCol:#CACACA;
@function em($pxval, $base:16){
	@return ($pxval / $base) * 1em;
}
$tabletish-width: 520px;
$desktopish-width: 800px;
$lobbyDisplayish-width:1560px;

@mixin tabletish {
  @media (min-width: #{$tabletish-width}) {
    @content;
  }
}

@mixin desktopish {
  @media (min-width: #{$desktopish-width}) {
    @content;
  }
}

@mixin lobbyDisplayish {
  @media (min-width: #{$lobbyDisplayish-width}) {
    @content;
  }
}

@mixin highDPI {
  @media
    only screen and (-webkit-min-device-pixel-ratio: 2),
    only screen and (min--moz-device-pixel-ratio: 2),
    only screen and (-o-min-device-pixel-ratio: 2/1),
    only screen and (min-device-pixel-ratio: 2),
    only screen and (min-resolution: 192dpi),
    only screen and (min-resolution: 2dppx) {
    @content;
  }
}
$gfxWidth:225px;
$contentWidth:em(650);
$footerHeight:100px;
$gfxContentMargin:30px;
@mixin vendorPrefixer ($prop, $value, $prefixes:(webkit, moz, ms, o, spec)) {
		@each $prefix in $prefixes{
			@if $prefix == webkit{
				-webkit-#{$prop}: $value;
			}
			@else if $prefix == moz{
				-moz-#{$prop}: $value;
			}
			@else if $prefix == ms{
				-ms-#{$prop}: $value;
			}
			@else if $prefix == o{
				-o-#{$prop}: $value;
			}
			@else if $prefix == spec{
				#{$prop}: $value;
			}
			@else{
				//@warn "Unrecognized prefix: #{$prefix}";
			}
		}
}
.site footer{
	position:absolute;
	bottom:-20px;//0;
	height:$footerHeight;
	left:0;
	right:$gfxContentMargin;
	text-align:right;
	background-color:$footerBGCol;
	border-top:1px solid $footerDividerCol;

	> div{
		padding:em(10);
		font-size:em(12);
		font-family:Arial,Helvetica,sans-serif;
		color:$footerTxtCol;		

		span{			
			&.year{
				font-style:italic;		
			}
			&.company{
				font-weight:700;
			}
		}
	}
}
.js .gfx{
	display:none;
	height:100%;
	margin:0;
	padding:0;

	width:0;

	@include tabletish{
		display:block;
		width:$gfxWidth;
	}
	background-color:$gfxBGCol;
	position:fixed;

	canvas{
		width:$gfxWidth;
		height:100%;
	}
	.dropoffShadow{
		position:absolute;
		width:8px;
		height:100%;		
		right:0;

		border-right:1px solid #b7e9f6;
		background: -moz-linear-gradient(left,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.08) 100%);
		background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(0,0,0,0)), color-stop(100%,rgba(0,0,0,0.08)));
		background: -webkit-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		background: -o-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		background: -ms-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.08) 100%);
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#14000000',GradientType=1 );
	}
}

.js nav{
	.homeBtn{
		display:inline-block;
	}
	.navItem{
		color:$navButtonColor;
		text-decoration:none;
		float:right;
	}
}
.gfx, .content{
	display:none;
}
.noJS{
	margin:0 $gfxContentMargin;
}
.js .site .content .about{
	article{
		h1{
			color:#09f;
		}
	}
}
.js .site .content .code{
	article{
		h1{
			color:#09f;
		}
		.description{
			@include desktopish{
				@include vendorPrefixer(column-count, 1, webkit moz spec);
			}

			@include lobbyDisplayish{
				@include vendorPrefixer(column-count, 1, webkit moz spec);
			}
		}
	}
}
.js .site .content{
	width:100%;//$contentWidth;
	margin:0;
	height:inherit;

	article{
		margin:0;
		padding:em(25) em(10) em(35) em(10);
		@include vendorPrefixer(transition, background-color .75s linear);

		&.active{
			background-color:$articleSelectedBGCol;
			border-top:1px solid $articleSelectedDividerCol;
			border-bottom:1px solid $articleSelectedDividerCol;			
		}

		h1{
			font-size:em(28);
			font-style:italic;
			font-weight:normal;
			line-height:1.333em;
			vertical-align:baseline;
			margin:em(10) 0;
			color:$articleSummaryTxtCol;

			&::selection, span::selection{
				background:$articleH1SelectionBGCol;
				color:$baseTxtCol;
			}
		}
		
		.description{

			p{
				$fontSize:18;
				font-size:em($fontSize, 16);
				margin:0;
				padding:em(0, $fontSize) em(10, $fontSize) em(16, $fontSize) em(6, $fontSize);				
				line-height:em(24, $fontSize);
				color:$baseTxtCol;
				&::selection, i::selection{
					background:$articleSummarySelectionBGCol;
				}
			}

			a.link, a.link:active{
				color:$linkBtnBGCol;
				background-color:$linkBtnFGCol;
				&::selection{
					background-color:#000000;
					color:#FFFFFF;
				}
			}

			a.btn{
				background-color:$linkBtnBGCol;
				color:$linkBtnFGCol;
				text-decoration:none;
				padding:em(2) em(9);
				margin:0 0 2 0;
				transition:color 0.27s ease-out,background 0.2s ease-in;
				&:hover, &:focus{
					background-color:$linkBtnFGCol;
					color:$linkBtnBGCol;
				}
				&::selection{
					background:transparent;
				}
			}
		}
	}
}
.js .site .projects .imagePreview{
	width:100%;
	position:relative;
	display:block;
	margin:em(20) 0;

	img{
		max-width:100%;
		min-height:100px;
		position:absolute;
		transition:opacity .75s linear;
		&.next{
			z-index:1;
			opacity:0;
		}
		&.current{
			opacity:1;
			z-index:2;
		}
		&:after{
			clear:both;
			}

	}
}
.js .site .projects{
	article{
		.description{
			@include desktopish{
				@include vendorPrefixer(column-count, 2, webkit moz spec);
			}

			@include lobbyDisplayish{
				@include vendorPrefixer(column-count, 3, webkit moz spec);
			}
		}
		
		ul.info{
			list-style-type:none;
			font-family:Arial,Helvetica,sans-serif;
			color:$listTxtCol;
			font-size:em(13);	
			padding:0;
			margin:0;
			li{
				line-height:1.5em;
				&::selection, strong::selection{
					background:$articleInfoSelectionBGCol;
				}
			}
		}
	}
}
@import url(http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400italic);
html, body{
	background-color:$bgColor;
	margin:0;
	padding:0;
	height:100%;
	
	font-family:"Sorts Mill Goudy",Georgia,serif;
	font-size:1em;
}

.js {
	.gfx{
		display:block;
	}
	.site{
		position:relative;
		min-height:100%;
		padding:0;
		margin:0;
		margin-left:$gfxContentMargin/2;
		padding-right:$gfxContentMargin/2;

		@include tabletish{
			margin-left:$gfxWidth + $gfxContentMargin;
			padding-right:$gfxContentMargin;
		}
		.content{
			display:block;
			padding-bottom:$footerHeight+20;
		}
		.noJS{
			display:none;
		}
	}
}